---
import Layout from "../layouts/Layout.astro";
import ProjectCard from "../components/Project.astro";
import { projects } from "../data/projects.js";
import "../styles/global.css";

const sections = [
  { title: "Featured Projects", items: projects.filter((p) => p.featured) },
  { title: "Other Projects", items: projects.filter((p) => !p.featured) },
];
---

<Layout title="setofr | projects">
  <section class="space-y-12 stagger-animation">
    <div class="glassmorphism rounded-2xl p-8">
      <h1 class="text-4xl font-bold text-gradient mb-4">Projects</h1>
      <p class="text-lg text-[var(--color-text)]">
        Here are some of the projects I've been working on.
      </p>
    </div>

    {
      sections.map(
        ({ title, items }) =>
          items.length > 0 && (
            <section>
              <h2 class="text-2xl font-semibold text-[var(--color-heading)] mb-8 flex items-center gap-3">
                <span class="text-gradient">â—ˆ</span> {title}
              </h2>
              <div class="grid gap-6">
                {items.map((project) => (
                  <ProjectCard {...project} />
                ))}
              </div>
            </section>
          )
      )
    }

    {
      projects.length === 0 && (
        <div class="text-center py-16 glassmorphism rounded-2xl">
          <p class="text-[var(--color-text)] text-lg">
            No projects to display yet. Check back soon!
          </p>
        </div>
      )
    }
  </section>
</Layout>